# üç∞ –°–º–∞—á–Ω–æ.AI

Telegram-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ–∑—É–∞–ª—å–Ω–∏—Ö –∫—Ä–µ–∞—Ç–∏–≤—ñ–≤ (–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è) –¥–ª—è –ø–µ–∫–∞—Ä–µ–Ω—å, –∫–æ–Ω–¥–∏—Ç–µ—Ä—ñ–≤ —Ç–∞ –∫–∞–≤'—è—Ä–µ–Ω—å –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ñ–æ—Ç–æ –∞–±–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ–ø–∏—Å—É.

## ‚ú® –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

- üì∏ **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç—É**: –§–æ—Ç–æ –≤–∏—Ä–æ–±—É –∞–±–æ —Ç–µ–∫—Å—Ç–æ–≤–∏–π –æ–ø–∏—Å
- üé® **AI-–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å**: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Instagram-—Å—Ç–∏–ª—å–Ω–∏—Ö –∫—Ä–µ–∞—Ç–∏–≤—ñ–≤ —á–µ—Ä–µ–∑ OpenAI DALL¬∑E 3
- üìù **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø—ñ–¥–ø–∏—Å–∏**: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø—ñ–¥–ø–∏—Å—ñ–≤ –¥–æ –ø–æ—Å—Ç—ñ–≤ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é
- üí≥ **–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü—ñ—è**: –ü—ñ—Å–ª—è 2 –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏—Ö –≥–µ–Ω–µ—Ä–∞—Ü—ñ–π - –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ WayForPay
- üìö **–ì–∞–ª–µ—Ä–µ—è –∫—Ä–µ–∞—Ç–∏–≤—ñ–≤**: –ö–æ–º–∞–Ω–¥–∞ `/my_creatives` –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –æ—Å—Ç–∞–Ω–Ω—ñ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- üë®‚Äçüíº **–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∞ —Ä–æ–∑—Å–∏–ª–∫–∞ –Ω–æ–≤–∏–Ω

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –æ—Ç–æ—á–µ–Ω–Ω—è

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `.env.example`:

```bash
cp .env.example .env
```

–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è:

```env
# Telegram Bot Token (–æ—Ç—Ä–∏–º–∞–π—Ç–µ —É @BotFather)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# OpenAI API Key
OPENAI_API_KEY=your_openai_api_key_here

# Supabase
SUPABASE_URL=your_supabase_url_here
SUPABASE_KEY=your_supabase_anon_key_here

# Payment (WayForPay)
WAYFORPAY_MERCHANT_ACCOUNT=your_wayforpay_merchant_account
WAYFORPAY_SECRET_KEY=your_wayforpay_secret_key
MERCHANT_DOMAIN_NAME=your-domain.com
PAYMENT_AMOUNT=30
PAYMENT_CURRENCY=UAH

# Admin (—Å–ø–∏—Å–æ–∫ ID –∞–¥–º—ñ–Ω—ñ–≤ —á–µ—Ä–µ–∑ –∫–æ–º—É)
ADMIN_USER_IDS=123456789,987654321
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

#### Supabase

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ—î–∫—Ç –Ω–∞ [supabase.com](https://supabase.com)
2. –í–∏–∫–æ–Ω–∞–π—Ç–µ SQL-—Å–∫—Ä–∏–ø—Ç –∑ `src/db/schema.sql` –≤ SQL Editor
3. –°—Ç–≤–æ—Ä—ñ—Ç—å Storage Bucket:
   - –ù–∞–∑–≤–∞: `creatives`
   - –ü—É–±–ª—ñ—á–Ω–∏–π –¥–æ—Å—Ç—É–ø: `true`
4. **–û–±–æ–≤'—è–∑–∫–æ–≤–æ:** –í–∏–∫–æ–Ω–∞–π—Ç–µ SQL-—Å–∫—Ä–∏–ø—Ç –∑ `src/db/storage_policies.sql` –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ–ª—ñ—Ç–∏–∫ –¥–æ—Å—Ç—É–ø—É

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

**–†–æ–∑—Ä–æ–±–∫–∞:**

```bash
npm run dev
```

**–ü—Ä–æ–¥–∞–∫—à–Ω:**

```bash
npm start
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.js              # –û—Å–Ω–æ–≤–Ω–∏–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.js             # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.js       # –†–æ–±–æ—Ç–∞ –∑ –ë–î
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schema.sql        # SQL —Å—Ö–µ–º–∞
‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îÇ       ‚îú‚îÄ‚îÄ ai.js             # OpenAI —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
‚îÇ       ‚îú‚îÄ‚îÄ payment.js        # –ü–ª–∞—Ç—ñ–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞
‚îÇ       ‚îî‚îÄ‚îÄ storage.js        # –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ .env.example
‚îî‚îÄ‚îÄ README.md
```

## üéØ –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

- `/start` - –ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
- `/my_creatives` - –ì–∞–ª–µ—Ä–µ—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö 5 –∫—Ä–µ–∞—Ç–∏–≤—ñ–≤
- `/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –∞–¥–º—ñ–Ω—ñ–≤)
- `/broadcast <–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è>` - –†–æ–∑—Å–∏–ª–∫–∞ (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –∞–¥–º—ñ–Ω—ñ–≤)

## üí° –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

1. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞** –∫–æ–º–∞–Ω–¥–æ—é `/start`
2. **–ù–∞–¥—ñ—à–ª—ñ—Ç—å —Ñ–æ—Ç–æ** –≤–∏—Ä–æ–±—É –∞–±–æ **–æ–ø–∏—à—ñ—Ç—å —Ç–µ–∫—Å—Ç–æ–º** —â–æ —Ö–æ—á–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏
3. **–û—Ç—Ä–∏–º–∞–π—Ç–µ –∫—Ä–µ–∞—Ç–∏–≤–∏** - –±–æ—Ç –∑–≥–µ–Ω–µ—Ä—É—î 1-2 –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω—å —Ç–∞ –ø—ñ–¥–ø–∏—Å
4. **–ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –≥–∞–ª–µ—Ä–µ—é** –∫–æ–º–∞–Ω–¥–æ—é `/my_creatives`

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Node.js** + **Telegraf.js** - Telegram –±–æ—Ç
- **OpenAI API** - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å (DALL¬∑E 3) —Ç–∞ —Ç–µ–∫—Å—Ç—ñ–≤ (GPT-4o-mini)
- **Supabase** - –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö PostgreSQL —Ç–∞ —Ñ–∞–π–ª–æ–≤–µ —Å—Ö–æ–≤–∏—â–µ
- **WayForPay** - –ü–ª–∞—Ç—ñ–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

- –ü–µ—Ä—à—ñ 2 –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ
- –ü—ñ—Å–ª—è –≤–∏—á–µ—Ä–ø–∞–Ω–Ω—è –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏—Ö –≥–µ–Ω–µ—Ä–∞—Ü—ñ–π –ø–æ—Ç—Ä—ñ–±–Ω–∞ –æ–ø–ª–∞—Ç–∞ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 30 –≥—Ä–Ω)
- –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ Supabase Storage
- –í—Å—ñ –ø—ñ–¥–ø–∏—Å–∏ –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é

## üö¢ –î–µ–ø–ª–æ–π

### Railway

**–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:** –î–∏–≤. `RAILWAY_SETUP.md`

–ö–æ—Ä–æ—Ç–∫–æ:

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ—î–∫—Ç –Ω–∞ [railway.app](https://railway.app)
2. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
3. –î–æ–¥–∞–π—Ç–µ –≤—Å—ñ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è (–≤–∫–ª—é—á–∞—é—á–∏ `APP_URL` –∑ Railway domain)
4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ —Ç–∞ webhook —Å–µ—Ä–≤–µ—Ä
5. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ WayForPay webhook URL: `https://your-app.up.railway.app/payment/webhook`

### Render

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π Web Service –Ω–∞ [render.com](https://render.com)
2. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ:
   - Build Command: `npm install`
   - Start Command: `npm start`
4. –î–æ–¥–∞–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è

### Fly.io

```bash
fly launch
fly secrets set TELEGRAM_BOT_TOKEN=...
# ... —ñ–Ω—à—ñ –∑–º—ñ–Ω–Ω—ñ
fly deploy
```

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT

## ü§ù –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∏, —Å—Ç–≤–æ—Ä—ñ—Ç—å Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó.
